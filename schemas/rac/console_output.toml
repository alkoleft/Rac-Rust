# Console output layout definitions for rac_lite.
# Used by scripts/rac/console_output_codegen.py.

[record.infobase_summary]
type = "InfobaseSummary"
list_label = "infobases"
list_fn = "infobase_summary_list"
list_struct = "InfobaseSummaryListDisplay"
lines = [
  { label = "infobase", value = "infobase", format = "uuid" },
  { label = "name", value = "name" },
  { label = "descr", value = "descr", format = "quoted" },
]

[record.connection]
type = "ConnectionRecord"
list_label = "connections"
lines = [
  { label = "connection", value = "connection", format = "uuid" },
  { label = "application", value = "application" },
  { label = "connected-at", value = "connected_at" },
  { label = "conn-id", value = "conn_id" },
  { label = "host", value = "host" },
  { label = "infobase", value = "infobase", format = "uuid" },
  { label = "process", value = "process", format = "uuid" },
  { label = "session-number", value = "session_number" },
  { label = "blocked-by-ls", value = "blocked_by_ls" },
]

[record.manager]
type = "ManagerRecord"
list_label = "managers"
lines = [
  { label = "manager", value = "manager", format = "uuid" },
  { label = "pid", value = "pid" },
  { label = "using", value = "manager_using_label(item.using)" },
  { label = "host", value = "host" },
  { label = "port", value = "port" },
  { label = "descr", value = "descr", format = "quoted_display" },
]

[record.server]
type = "ServerRecord"
list_label = "servers"
lines = [
  { label = "server", value = "server", format = "uuid" },
  { label = "agent-host", value = "agent_host" },
  { label = "agent-port", value = "agent_port" },
  { label = "name", value = "name", format = "quoted_display" },
  { label = "using", value = "server_using_label(item.using)" },
  { label = "dedicate-managers", value = "dedicate_managers_label(item.dedicate_managers)" },
  { label = "infobases-limit", value = "infobases_limit" },
  { label = "safe-call-memory-limit", value = "safe_call_memory_limit" },
  { label = "connections-limit", value = "connections_limit" },
  { label = "cluster-port", value = "cluster_port" },
  { fmt = "port-range: {}:{}", args = ["item.port_range_start", "item.port_range_end"] },
  { label = "critical-total-memory", value = "critical_total_memory" },
  { label = "temporary-allowed-total-memory", value = "temporary_allowed_total_memory" },
  { label = "temporary-allowed-total-memory-time-limit", value = "temporary_allowed_total_memory_time_limit" },
  { label = "service-principal-name", value = "service_principal_name", format = "quoted_display" },
  { label = "restart-schedule", value = "restart_schedule", format = "quoted_display" },
]

[record.process]
type = "ProcessRecord"
list_label = "processes"
lines = [
  { label = "process", value = "process", format = "uuid" },
  { label = "host", value = "host" },
  { label = "port", value = "port" },
  { label = "pid", value = "pid" },
  { label = "turned-on", value = "turned_on", format = "yes_no" },
  { label = "running", value = "running", format = "yes_no" },
  { label = "started-at", value = "started_at" },
  { label = "use", value = "process_use_label(item.use_status)" },
  { label = "available-performance", value = "available_performance" },
  { label = "capacity", value = "capacity" },
  { label = "connections", value = "connections" },
  { label = "memory-size", value = "memory_size" },
  { label = "memory-excess-time", value = "memory_excess_time" },
  { label = "selection-size", value = "selection_size" },
  { label = "avg-call-time", value = "avg_call_time", format = "float3" },
  { label = "avg-db-call-time", value = "avg_db_call_time", format = "float3" },
  { label = "avg-lock-call-time", value = "avg_lock_call_time", format = "float3" },
  { label = "avg-server-call-time", value = "avg_server_call_time", format = "float3" },
  { label = "avg-threads", value = "avg_threads", format = "float3" },
  { label = "reserve", value = "reserve", format = "yes_no" },
]

[record.lock]
type = "LockRecordRaw"
list_label = "locks"
lines = [
  { label = "connection", value = "connection", format = "uuid" },
  { label = "descr", value = "item.descr.descr", format = "display_str" },
  { label = "descr-flag", value = "flag", optional = { var = "flag", expr = "item.descr.descr_flag" } },
  { label = "locked-at", value = "locked_at" },
  { label = "session", value = "session", format = "uuid" },
  { label = "object", value = "object", format = "uuid" },
]

[record.rule]
type = "RuleRecord"
list_label = "rules"
lines = [
  { label = "rule", value = "rule", format = "uuid" },
  { label = "object-type", value = "object_type" },
  { label = "infobase-name", value = "infobase_name" },
  { label = "rule-type", value = "rule_type_label(item.rule_type)" },
  { label = "application-ext", value = "application_ext" },
  { label = "priority", value = "priority" },
]

[record.limit]
type = "LimitRecord"
list_label = "limits"
lines = [
  { label = "limit", value = "name" },
  { label = "counter", value = "counter" },
  { label = "action", value = "action" },
  { label = "duration", value = "duration" },
  { label = "cpu-time", value = "cpu_time" },
  { label = "memory", value = "memory" },
  { label = "read", value = "read" },
  { label = "write", value = "write" },
  { label = "duration-dbms", value = "duration_dbms" },
  { label = "dbms-bytes", value = "dbms_bytes" },
  { label = "service", value = "service" },
  { label = "call", value = "call" },
  { label = "number-of-active-sessions", value = "number_of_active_sessions" },
  { label = "number-of-sessions", value = "number_of_sessions" },
  { label = "error-message", value = "error_message" },
  { label = "descr", value = "descr" },
]

[record.service_setting]
type = "ServiceSettingRecord"
list_label = "service-settings"
lines = [
  { label = "setting", value = "setting", format = "uuid" },
  { label = "service-name", value = "service_name" },
  { label = "infobase-name", value = "infobase_name" },
  { label = "service-data-dir", value = "service_data_dir" },
  { label = "active", value = "active", format = "yes_no" },
]

[record.service_setting_transfer_data_dir]
type = "ServiceSettingTransferDataDirRecord"
list_label = "service-data-dirs"
list_fn = "service_setting_get_data_dirs_for_transfer"
list_struct = "ServiceSettingTransferDataDirsDisplay"
lines = [
  { label = "service-name", value = "service_name" },
  { label = "user", value = "user" },
  { label = "source-dir", value = "source_dir" },
  { label = "target-dir", value = "target_dir" },
]

[record.counter]
type = "CounterRecord"
list_label = "counters"
lines = [
  { label = "name", value = "name" },
  { label = "collection-time", value = "collection_time" },
  { label = "group", value = "group" },
  { label = "filter-type", value = "filter_type" },
  { label = "filter", value = "filter" },
  { label = "duration", value = "duration" },
  { label = "cpu-time", value = "cpu_time" },
  { label = "duration-dbms", value = "duration_dbms" },
  { label = "service", value = "service" },
  { label = "memory", value = "memory" },
  { label = "read", value = "read" },
  { label = "write", value = "write" },
  { label = "dbms-bytes", value = "dbms_bytes" },
  { label = "call", value = "call" },
  { label = "number-of-active-sessions", value = "number_of_active_sessions" },
  { label = "number-of-sessions", value = "number_of_sessions" },
  { label = "descr", value = "descr" },
]

[record.counter_values]
type = "CounterValuesRecord"
lists = [
  { label = "counter-values", fn = "counter_values", struct = "CounterValuesDisplay" },
  { label = "counter-accumulated-values", fn = "counter_accumulated_values", struct = "CounterAccumulatedValuesDisplay" },
]
lines = [
  { label = "object", value = "object" },
  { label = "collection-time", value = "collection_time" },
  { label = "duration", value = "duration" },
  { label = "cpu-time", value = "cpu_time" },
  { label = "memory", value = "memory" },
  { label = "read", value = "read" },
  { label = "write", value = "write" },
  { label = "duration-dbms", value = "duration_dbms" },
  { label = "dbms-bytes", value = "dbms_bytes" },
  { label = "service", value = "service" },
  { label = "call", value = "call" },
  { label = "number-of-active-sessions", value = "number_of_active_sessions" },
  { label = "number-of-sessions", value = "number_of_sessions" },
  { label = "time", value = "time" },
]

[record.agent_admin]
type = "AgentAdminRecord"
list_label = "agent-admins"
lines = [
  { label = "name", value = "name" },
  { label = "unknown-tag", value = "unknown_tag" },
  { label = "unknown-flags", value = "unknown_flags", format = "hex_u32" },
  { label = "unknown-tail", value = "unknown_tail", format = "bytes3" },
]

[record.cluster_admin]
type = "ClusterAdminRecord"
list_label = "cluster-admins"
lines = [
  { label = "name", value = "name" },
  { label = "unknown-tag", value = "unknown_tag" },
  { label = "unknown-flags", value = "unknown_flags", format = "hex_u32" },
  { label = "unknown-tail", value = "unknown_tail", format = "bytes3" },
]

[record.cluster]
type = "ClusterRecord"
list_label = "clusters"
list_style = "blocks"
lines = [
  { fmt = "cluster                                   : {}", args = ["format_uuid(&item.uuid)"] },
  { fmt = "host                                      : {}", args = ["display_str(&item.host)"] },
  { fmt = "port                                      : {}", args = ["item.port"] },
  { fmt = "name                                      : \"{}\"", args = ["display_str(&item.display_name)"] },
  { fmt = "expiration-timeout                        : {}", args = ["item.expiration_timeout"] },
  { fmt = "lifetime-limit                            : {}", args = ["item.lifetime_limit"] },
  { fmt = "max-memory-size                           : {}", args = ["item.max_memory_size"] },
  { fmt = "max-memory-time-limit                     : {}", args = ["item.max_memory_time_limit"] },
  { fmt = "security-level                            : {}", args = ["item.security_level"] },
  { fmt = "session-fault-tolerance-level             : {}", args = ["item.session_fault_tolerance_level"] },
  { fmt = "load-balancing-mode                       : {}", args = ["load_balancing_mode_name(item.load_balancing_mode)"] },
  { fmt = "errors-count-threshold                    : {}", args = ["item.errors_count_threshold"] },
  { fmt = "kill-problem-processes                    : {}", args = ["item.kill_problem_processes"] },
  { fmt = "kill-by-memory-with-dump                  : {}", args = ["item.kill_by_memory_with_dump"] },
  { fmt = "allow-access-right-audit-events-recording : {}", args = ["item.allow_access_right_audit_events_recording"] },
  { fmt = "ping-period                               : {}", args = ["item.ping_period"] },
  { fmt = "ping-timeout                              : {}", args = ["item.ping_timeout"] },
  { fmt = "restart-schedule                          : \"{}\"", args = ["display_str(&item.restart_schedule_cron)"] },
]

[record.agent_version]
type = "str"
info_fn = "agent_version"
info_struct = "AgentVersionDisplay"
lines = [
  { fmt = "version: {}", args = ["item"] },
]

[record.session]
type = "SessionRecord"
list_label = "sessions"
lines = [
  { label = "session", value = "session", format = "uuid" },
  { label = "app-id", value = "app_id" },
  { label = "connection", value = "connection", format = "uuid" },
  { label = "infobase", value = "infobase", format = "uuid" },
  { label = "process", value = "process", format = "uuid" },
  { label = "host", value = "host" },
  { label = "hibernate", value = "hibernate", format = "yes_no" },
  { label = "locale", value = "locale" },
  { label = "user-name", value = "user_name" },
  { label = "started-at", value = "started_at" },
  { label = "last-active-at", value = "last_active_at" },
  { label = "client-ip", value = "client_ip" },
  { label = "db-proc-info", value = "db_proc_info" },
  { label = "db-proc-took-at", value = "db_proc_took_at" },
  { label = "current-service-name", value = "current_service_name" },
  { label = "data-separation", value = "data_separation" },
  { call = "append_license_prefixed(out, &item.license, \"license.\")" },
  { label = "session-id", value = "session_id" },
  { call = "append_counters_prefixed(out, item, \"\")" },
]
