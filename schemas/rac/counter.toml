[record.CounterRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "name", type = "str8", version = "11.0" },
  { name = "collection_time", type = "u64_be", version = "11.0" },
  { name = "group", type = "u8", version = "11.0" },
  { name = "filter_type", type = "u8", version = "11.0" },
  { name = "filter", type = "str8", version = "11.0" },
  { name = "duration", type = "u8", version = "11.0" },
  { name = "cpu_time", type = "u8", version = "11.0" },
  { name = "duration_dbms", type = "u8", version = "11.0" },
  { name = "service", type = "u8", version = "11.0" },
  { name = "memory", type = "u8", version = "11.0" },
  { name = "read", type = "u8", version = "11.0" },
  { name = "write", type = "u8", version = "11.0" },
  { name = "dbms_bytes", type = "u8", version = "11.0" },
  { name = "call", type = "u8", version = "11.0" },
  { name = "number_of_active_sessions", type = "u8", version = "11.0" },
  { name = "number_of_sessions", type = "u8", version = "11.0" },
  { name = "descr", type = "str8", version = "11.0" },
]

[record.CounterValuesRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "object", type = "str8", version = "11.0" },
  { name = "collection_time", type = "u64_be", version = "11.0" },
  { name = "duration", type = "u64_be", version = "11.0" },
  { name = "cpu_time", type = "u64_be", version = "11.0" },
  { name = "memory", type = "u64_be", version = "11.0" },
  { name = "read", type = "u64_be", version = "11.0" },
  { name = "write", type = "u64_be", version = "11.0" },
  { name = "duration_dbms", type = "u64_be", version = "11.0" },
  { name = "dbms_bytes", type = "u64_be", version = "11.0" },
  { name = "service", type = "u64_be", version = "11.0" },
  { name = "call", type = "u64_be", version = "11.0" },
  { name = "number_of_active_sessions", type = "u64_be", version = "11.0" },
  { name = "number_of_sessions", type = "u64_be", version = "11.0" },
  { name = "time", type = "datetime_u64_be", version = "11.0" },
]

[rpc.CounterList]
response = "CounterListResp"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
]
version = "11.0"
method_req = 0x76
method_resp = 0x77
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterInfo]
response = "CounterInfoResp"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "counter", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x78
method_resp = 0x79
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterUpdate]
response = "AckResponse"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "name", type = "str8", version = "11.0" },
  { name = "collection_time", type = "u64_be", version = "11.0" },
  { name = "group", type = "u8", version = "11.0" },
  { name = "filter_type", type = "u8", version = "11.0" },
  { name = "filter", type = "str8", version = "11.0" },
  { name = "duration", type = "u8", version = "11.0" },
  { name = "cpu_time", type = "u8", version = "11.0" },
  { name = "duration_dbms", type = "u8", version = "11.0" },
  { name = "service", type = "u8", version = "11.0" },
  { name = "memory", type = "u8", version = "11.0" },
  { name = "read", type = "u8", version = "11.0" },
  { name = "write", type = "u8", version = "11.0" },
  { name = "dbms_bytes", type = "u8", version = "11.0" },
  { name = "call", type = "u8", version = "11.0" },
  { name = "number_of_active_sessions", type = "u8", version = "11.0" },
  { name = "number_of_sessions", type = "u8", version = "11.0" },
  { name = "descr", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x7a
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterRemove]
response = "AckResponse"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "name", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x7b
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterClear]
response = "AckResponse"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "counter", type = "str8", version = "11.0" },
  { name = "object", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x84
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterValues]
response = "CounterValuesResp"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "counter", type = "str8", version = "11.0" },
  { name = "object", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x82
method_resp = 0x83
requires_cluster_context = true
requires_infobase_context = false

[rpc.CounterAccumulatedValues]
response = "CounterAccumulatedValuesResp"
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "counter", type = "str8", version = "11.0" },
  { name = "object", type = "str8", version = "11.0" },
]
version = "11.0"
method_req = 0x85
method_resp = 0x86
requires_cluster_context = true
requires_infobase_context = false

[response.CounterList]
body = { type = "list_u8", item = "CounterRecord", field = "records", struct = true }

[response.CounterInfo]
body = { type = "record", item = "CounterRecord", field = "record", struct = true }

[response.CounterValues]
body = { type = "list_u8", item = "CounterValuesRecord", field = "records", struct = true }

[response.CounterAccumulatedValues]
body = { type = "list_u8", item = "CounterValuesRecord", field = "records", struct = true }
