[record.ProcessLicense]
derive = ["Debug", "Serialize", "Default", "Clone"]
fields = [
  { name = "_gap_license_0", type = "u8", skip = true, version = "11.0" },
  { name = "file_name", type = "str8", version = "11.0" },
  { name = "full_presentation", type = "str_u14", version = "11.0" },
  { name = "issued_by_server", type = "u8_bool", version = "11.0" },
  { name = "license_type", type = "u32_be", version = "11.0" },
  { name = "max_users_all", type = "u32_be", version = "11.0" },
  { name = "max_users_current", type = "u32_be", version = "11.0" },
  { name = "network_key", type = "u8_bool", version = "11.0" },
  { name = "server_address", type = "str8", version = "11.0" },
  { name = "process_id", type = "str8", version = "11.0" },
  { name = "server_port", type = "u32_be", version = "11.0" },
  { name = "key_series", type = "str8", version = "11.0" },
  { name = "brief_presentation", type = "str8", version = "11.0" },
]

[record.ProcessRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "process", type = "uuid", version = "11.0" },
  { name = "_gap_0", type = "bytes", len = 8, skip = true, version = "11.0" },
  { name = "avg_call_time", type = "f64_be", version = "11.0" },
  { name = "avg_db_call_time", type = "f64_be", version = "11.0" },
  { name = "avg_lock_call_time", type = "f64_be", version = "11.0" },
  { name = "avg_server_call_time", type = "f64_be", version = "11.0" },
  { name = "avg_threads", type = "f64_be", version = "11.0" },
  { name = "capacity", type = "u32_be", version = "11.0" },
  { name = "connections", type = "u32_be", version = "11.0" },
  { name = "host", type = "str8", version = "11.0" },
  { name = "licenses", type = "list_u8", item = "ProcessLicense", version = "11.0" },
  { name = "port", type = "u16_be", version = "11.0" },
  { name = "memory_excess_time", type = "u32_be", version = "11.0" },
  { name = "memory_size", type = "u32_be", version = "11.0" },
  { name = "pid", type = "str8", version = "11.0" },
  { name = "use_status", type = "u32_be", version = "11.0" },
  { name = "selection_size", type = "u32_be", version = "11.0" },
  { name = "started_at", type = "datetime_u64_be", version = "11.0" },
  { name = "running", type = "u32_be_bool", version = "11.0" },
  { name = "available_performance", type = "u32_be", version = "11.0" },
  { name = "reserve", type = "u8_bool", version = "11.0" },
  { name = "turned_on", type = "computed", computed = "ne_zero", source = "use_status", rust_type = "bool", version = "11.0" },
]

[rpc.ProcessList]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
]
version = "11.0"
method_req = 0x1d
method_resp = 0x1e
requires_cluster_context = true
requires_infobase_context = false

[rpc.ProcessInfo]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid", version = "11.0" },
  { name = "process", type = "uuid", version = "11.0" },
]
version = "11.0"
method_req = 0x1f
method_resp = 0x20
requires_cluster_context = true
requires_infobase_context = false

[response.ProcessList]
body = { type = "list_u8", item = "ProcessRecord" }

[response.ProcessInfo]
body = { type = "record", item = "ProcessRecord" }
