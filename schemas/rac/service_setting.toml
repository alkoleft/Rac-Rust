[record.ServiceSettingRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "setting", type = "uuid" },
  { name = "service_name", type = "str8" },
  { name = "infobase_name", type = "str8" },
  { name = "service_data_dir", type = "str8" },
  { name = "active", type = "u16_be_bool" },
]

[record.ServiceSettingTransferDataDirRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "service_name", type = "str8" },
  { name = "user", type = "str8" },
  { name = "source_dir_len", type = "u8", skip = true },
  { name = "source_dir_flag", type = "u8" },
  { name = "source_dir", type = "str_len_u8", len_source = "source_dir_len" },
  { name = "target_dir_len", type = "u8", skip = true },
  { name = "target_dir_flag", type = "u8" },
  { name = "target_dir", type = "str_len_u8", len_source = "target_dir_len" },
]

[record.ServiceSettingIdRecord]
derive = ["Debug", "Serialize", "Clone"]
fields = [
  { name = "setting", type = "uuid" },
]

[request.ServiceSettingInfoRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
  { name = "setting", type = "uuid" },
]

[request.ServiceSettingListRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
]

[request.ServiceSettingInsertRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
  { name = "padding", type = "bytes_fixed", literal = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], len = 16 },
  { name = "service_name", type = "str8" },
  { name = "infobase_name", type = "str8" },
  { name = "service_data_dir", type = "str8" },
  { name = "active", type = "u16_be" },
]

[request.ServiceSettingUpdateRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
  { name = "setting", type = "uuid" },
  { name = "service_name", type = "str8" },
  { name = "infobase_name", type = "str8" },
  { name = "service_data_dir", type = "str8" },
  { name = "active", type = "u16_be" },
]

[request.ServiceSettingRemoveRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
  { name = "setting", type = "uuid" },
]

[request.ServiceSettingApplyRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
]

[request.ServiceSettingGetDataDirsRequest]
derive = ["Debug", "Clone"]
fields = [
  { name = "cluster", type = "uuid" },
  { name = "server", type = "uuid" },
  { name = "service_name", type = "str8" },
]

[rpc.ServiceSettingInfo]
request = "ServiceSettingInfoRequest"
method_req = 0x89
method_resp = 0x8a
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingList]
request = "ServiceSettingListRequest"
method_req = 0x8b
method_resp = 0x8c
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingInsert]
request = "ServiceSettingInsertRequest"
method_req = 0x8d
method_resp = 0x8e
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingUpdate]
request = "ServiceSettingUpdateRequest"
method_req = 0x8d
method_resp = 0x8e
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingRemove]
request = "ServiceSettingRemoveRequest"
method_req = 0x8f
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingApply]
request = "ServiceSettingApplyRequest"
method_req = 0x90
requires_cluster_context = true
requires_infobase_context = false

[rpc.ServiceSettingGetDataDirs]
request = "ServiceSettingGetDataDirsRequest"
method_req = 0x91
method_resp = 0x92
requires_cluster_context = true
requires_infobase_context = false

[response.ServiceSettingList]
body = { type = "list_u8", item = "ServiceSettingRecord" }

[response.ServiceSettingInfo]
body = { type = "record", item = "ServiceSettingRecord" }

[response.ServiceSettingInsert]
body = { type = "record", item = "ServiceSettingIdRecord" }

[response.ServiceSettingUpdate]
body = { type = "record", item = "ServiceSettingIdRecord" }

[response.ServiceSettingGetDataDirs]
body = { type = "list_u8", item = "ServiceSettingTransferDataDirRecord" }
